<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>html/aJaxJson.html</title>
</head>
<body>
	<script>
	    let json = {
	    			"name": "John",
	    			"age": 30,
	    			"cars": [ "Ford", "BMW", "Fiat" ] 			
	    }
	    console.log(JSON.parse(json));
	    
		let xhtp = new XMLHttpRequest();
		xhtp.open('get', '../empListJson');
		xhtp.send();
		xhtp.onload = function() {
			let data = xhtp.response;
			let obj = JSON.parse(data); //JSON.parse타입 - 자바스크립트의 오브젝트 타입으로 변환해준다 //데이터를 가져오기가 훨씬 편함. 
			//console.log(JSON.parse(data));
			let ulTag = document.createElement('ul');
			for(let i =0; i<obj.length; i++) {
				let liTag = document.createElement('li');
				let val = obj[i].id + ',' + obj[i].firstName + ',' + obj[i].lastName + ',' + obj[i].email + ',' + obj[i].salary;
				let tNode = document.createTextNode(val);
				liTag.appendChild(tNode);
				ulTag.appendChild(liTag);
			}
			 document.getElementsByTagName('body')[0].appendChild(ulTag);
		}
	</script>
</body>
</html>